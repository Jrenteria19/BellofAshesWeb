// c:\Users\FerRS\Documents\escuela\proyecto\BellofAshesWeb\src\i18n.jsx
import { createContext, useContext, useEffect, useMemo, useState } from 'react';
import LanguageModal from './LanguageModal';

const translations = {
  es: {
    'nav.home': 'Principal',
    'nav.history': 'Historia',
    'nav.characters': 'Personajes',
    'nav.gameplay': 'Jugabilidad',
    'nav.achievements': 'Logros y Objetos',
    'nav.playNow': 'Jugar Ahora',
    'nav.downloading': 'Descargando...',

    'footer.motto': 'El fuego de la creación arde eternamente.',
    'footer.explore': 'Explorar',
    'footer.follow': 'Síguenos',
    'footer.creators': 'Creadores',
    'footer.copyLine': '© 2025 Bell of Ashes. Todos los derechos reservados.',

    'lang.selectTitle': 'Selecciona el idioma',
    'lang.selectDesc': 'Elige el idioma para navegar el sitio',
    'lang.es': 'Español',
    'lang.en': 'English',


    'home.subtitle': 'EL FUEGO DE LA CREACIÓN',
    'home.description': 'Sumérgete en un mundo de cenizas y brasas donde los dioses han caído. Empuña un poder ancestral y renace de las ruinas para forjar un nuevo destino.',
    'home.downloadApp': 'Descargar Bell of Ashes',
    'common.downloading': 'Descargando...',

    'features.worldTitle': 'Mundo Vasto',
    'features.worldDesc': 'Explora reinos devastados, santuarios olvidados y ciudades en ruinas llenas de secretos.',
    'features.combatTitle': 'Combate Intenso',
    'features.combatDesc': 'Domina un sistema de combate fluido que combina ataques brutales, esquivas y poderes elementales.',
    'features.customTitle': 'Personalización',
    'features.customDesc': 'Forja tu leyenda con un arsenal de armas, armaduras y habilidades únicas que se adaptan a tu estilo.',

    'home.combatSectionTitle': 'Experimenta el Combate',
    'home.combatSectionDesc': 'Enfréntate a hordas de enemigos y jefes colosales en batallas que pondrán a prueba tu habilidad.',
    'home.powerDivineTitle': 'Poder Divino',
    'home.powerDivineDesc': 'Domina las llamas y desata el poder de la creación. Cada habilidad es una obra maestra de destrucción y renacimiento.',
    'home.epicWorldTitle': 'Mundo Épico',
    'home.epicWorldDesc': 'Explora un universo de ruinas antiguas, cristales escarlata y secretos olvidados. Cada rincón cuenta una historia.',

    'installPWA.title': 'Lleva el Fuego Contigo',
    'installPWA.desc': 'Instala Bell of Ashes en tu dispositivo para un acceso rápido y una experiencia inmersiva. Disfruta de la aplicación como si fuera nativa, directamente desde tu pantalla de inicio.',
    'installPWA.installButton': 'Instalar PWA',
    'installPWA.installing': 'Instalando...',
    'installPWA.tipsTitle': '¿No ves el botón?',
    'installPWA.android': 'En Android: Abre el menú de Chrome (⋮) y selecciona "Instalar aplicación".',
    'installPWA.ios': 'En iOS (Safari): Toca el ícono de Compartir (↑) y selecciona "Agregar a la pantalla de inicio".',
    'installPWA.qrDesc': 'Escanea este código QR para descargar la APK de Bell of Ashes Comunidad. Es una app para la comunidad que te mantiene en contacto con los creadores y con la comunidad del juego.',
    'installPWA.downloadApk': 'Descargar APK',
    'installPWA.guideTitle': 'Guía de Instalación Detallada',
    'installPWA.pwaTitle': '1. Instalar la PWA (Aplicación Web Progresiva)',
    'installPWA.pwaDesc': 'La PWA te da una experiencia de app nativa desde tu navegador.',
    'installPWA.pwaReqTitle': 'Requisitos:',
    'installPWA.pwaReq1': 'Navegador moderno (Chrome, Edge, Safari).',
    'installPWA.pwaReq2': 'Conexión a internet.',
    'installPWA.pwaStepsTitle': 'Pasos:',
    'installPWA.pwaStep1': 'Visita la web de "Bell of Ashes".',
    'installPWA.pwaStep2': 'Busca el aviso o botón de "Instalar" o "Añadir a pantalla de inicio".',
    'installPWA.pwaStep2.1': 'Chrome (Android): Menú (⋮) > "Instalar aplicación".',
    'installPWA.pwaStep2.2': 'Safari (iOS): Compartir (↑) > "Agregar a la pantalla de inicio".',
    'installPWA.pwaStep3': 'Confirma la instalación.',
    'installPWA.pwaStep4': '¡Listo! Accede desde tu pantalla de inicio.',
    'installPWA.apkTitle': '2. Instalar la APK (Android)',
    'installPWA.apkDesc': 'Para una experiencia nativa en Android, puedes instalar el archivo APK.',
    'installPWA.apkReqTitle': 'Requisitos:',
    'installPWA.apkReq1': 'Dispositivo Android.',
    'installPWA.apkReq2': 'Habilitar "Fuentes desconocidas" en los ajustes de seguridad.',
    'installPWA.apkStepsTitle': 'Pasos:',
    'installPWA.apkStep1': 'Descarga el APK usando el botón o código QR de arriba.',
    'installPWA.apkStep2': 'Si se te solicita, permite la instalación desde "Fuentes desconocidas".',
    'installPWA.apkStep3': 'Abre el archivo .apk descargado.',
    'installPWA.apkStep4': 'Sigue las instrucciones para instalar.',
    'installPWA.apkStep5': 'Encuentra "Bell of Ashes" en tus aplicaciones.',

    'story.title': 'Historia de Bell of Ashes',
    'story.subtitle': 'Un relato épico de dioses caídos, profecías olvidadas y el poder del fuego eterno',
    'story.myth.title': 'El Mito Fundacional',
    'story.myth.p1': 'En el principio, del Fuego de la Creación nacieron los dos dioses gemelos: Ignira (Diosa de la Creación), forjadora de la vida, montañas, ríos y cielos; y Ozyr (Dios de la Destrucción), encargado de cerrar el ciclo de las cosas, devolviendo la calma y la oportunidad para una segunda creación. Ambos dioses tejieron el destino en un equilibrio perfecto y un profundo amor, siendo sus encuentros el origen de las auroras y nuevas constelaciones.',
    'story.fall.title': 'La Caída del Equilibrio',
    'story.fall.p1': 'El equilibrio fue roto por los Portadores del Eco, un culto temeroso de que el ciclo de vida y muerte girara sin final. Capturaron a Ozyr y lo encadenaron a la Campana del Eco, un artefacto prohibido nacido del vacío. El sonido de la campana torció las raíces del mundo, apagando la esperanza y debilitando a Ignira, cuyo fuego creador se convirtió en brasas. En el lamento de Ignira, una profecía resonó en las cavernas de Noctaria, anunciando la llegada de una "viajera de cenizas" que rompería el yugo o extinguiría el mundo con su fuego.',
    'story.journey.title': 'La Travesía de Solenne',
    'story.journey.p1': 'Solenne aparece como la "viajera de cenizas" de la profecía. A lo largo de su camino por tierras desoladas, logra encontrar y rescatar a varios aliados clave y reunir fragmentos de humanidad, que devuelven la vida al Santuario del Faro.',
    'story.journey.allies.title': 'Aliados Principales:',
    'story.journey.allies.l1': 'Arieth, la Guardiana del Santuario: Guía y protectora silenciosa.',
    'story.journey.allies.l2': 'Velric, el Coleccionista de Reliquias: Comerciante de objetos olvidados con conocimiento de secretos arcanos.',
    'story.journey.allies.l3': 'Mira, la Viajera Herida: Reflejo de la corrupción por el eco, sirve como advertencia.',
    'story.journey.allies.l4': 'Thyros, el Forjador de Ecos: Herrero encadenado con una promesa de redención.',
    'story.journey.allies.l5': 'Selianne, la Voz del Faro: Espíritu prisionero en una campana rota.',
    'story.journey.enemies.title': 'Enemigos Clave:',
    'story.journey.enemies.l1': 'Portadores del Eco: Espectros que buscan el silencio eterno.',
    'story.journey.enemies.l2': 'Kael, el Peregrino Oscuro: Un joven consumido por la obsesión de apropiarse del poder de Ozyr.',
    'story.journey.enemies.l3': 'Verdugo del Martillo: El primer jefe al que se enfrenta el jugador.',
    'story.climax.title': 'El Clímax y la Verdad',
    'story.climax.p1': 'El viaje culmina en el Corazón del Eco, donde Solenne halla a Ozyr encadenado y convertido en una marioneta del culto. Durante la batalla, la espada de Solenne estalla en luz, y su cuerpo mortal se quiebra, revelando su verdadera identidad: Solenne siempre fue Ignira, la diosa de la Creación, que había descendido en forma mortal para salvar a su amado. El enfrentamiento final no es para destruir a Ozyr, sino para liberar el mundo al quebrar la campana que lo esclaviza.',
    'story.endings.title': 'Posibles Desenlaces',
    'story.endings.p1': 'El destino del mundo depende de las acciones del jugador, dando lugar a tres finales narrados en las viejas canciones:',
    'story.endings.l1.title': 'Sacrificio Parcial:',
    'story.endings.l1.desc': 'Si Ignira logra quebrar la campana, Ozyr es liberado y se reencuentran. Sin embargo, la diosa queda debilitada y condenada a extinguirse lentamente.',
    'story.endings.l2.title': 'La Ceniza Final:',
    'story.endings.l2.desc': 'Si Ignira falla en romper la campana, se ve obligada a matar a Ozyr, y el ciclo termina en lágrimas y cenizas, consumiendo el mundo.',
    'story.endings.l3.title': 'Nuevo Amanecer (Final Verdadero):',
    'story.endings.l3.desc': 'Si el jugador ha salvado a todos los aliados y reunido las reliquias, Ignira logra romper la campana sin sacrificarse. Junto a Ozyr, encienden un nuevo amanecer donde el eco se convierte en un canto de esperanza, restaurando el equilibrio eterno.',

    'characters.title': 'Protagonistas y Aliados',
    'characters.subtitle': 'Conoce a los héroes y leyendas que forjarán el destino de un mundo renacido de las cenizas.',
    'characters.modal.history': 'Historia y Rol',

    'gameplay.title': 'Guía de Juego: Bell of Ashes',
    'gameplay.subtitle': 'Domina las mecánicas y secretos para forjar tu destino en un mundo de cenizas.',

    'achievements.title': 'Logros y Objetos',
    'achievements.subtitle': 'Registra tu progreso, colecciona artefactos legendarios y demuestra tu maestría en el campo de batalla.',
    'achievements.filter.achievements': 'Logros',
    'achievements.filter.items': 'Objetos',
    'achievements.filter.all': 'Todos',
    'achievements.filter.completed': 'Completados',
    'achievements.filter.pending': 'Pendientes',

    'data.solenne.title': 'La Portadora del Fuego',
    'data.solenne.desc': 'Una guerrera enigmática con cabellos de fuego, destinada a blandir una espada legendaria y desentrañar los secretos de una antigua profecía.',
    'data.solenne.long': 'Guerrera de cabellos de fuego y ojos dorados, portadora de espada, cuyo destino estaba ligado a una profecía. Se descubre que es Ignira, la diosa del fuego y la creación reencarnada. Su poder arde con la intensidad de mil soles, capaz de destruir y crear en igual medida.',
    'data.axelin.title': 'El Viajero de las Cenizas',
    'data.axelin.desc': 'Un motociclista de aspecto rudo que recorre las tierras desoladas. Pide recuerdos como pago y su lealtad es inquebrantable.',
    'data.axelin.long': 'Un motociclista de aspecto rudo, con chaqueta de cuero y mirada seria, pero que siempre sonríe con ternura. Es el medio de transporte de la protagonista y pide recuerdos en lugar de moneda. Su lealtad es inquebrantable y su conocimiento de los caminos olvidados es invaluable.',
    'data.arieth.title': 'La Guardiana del Santuario',
    'data.arieth.desc': 'Una guía etérea y silenciosa. Su presencia, manifestada como una luz dorada, protege los secretos antiguos y guía a los elegidos por el destino.',
    'data.arieth.long': 'Guía y sombra protectora de Solenne, una voz que no hablaba pero conducía. Su presencia es etérea y misteriosa, manifestándose como una silueta de luz dorada en los momentos de mayor necesidad. Protege los secretos antiguos y guía a los elegidos por el destino.',

    'achievements.1.title': 'Inicio del Peregrino',
    'achievements.1.desc': 'Llegaste al Atrio de las Brasas, dando el primer paso en tu destino.',
    'achievements.2.title': 'Fuego en la Capa',
    'achievements.2.desc': 'Desbloquea el poder del "Corazón de Ceniza" y contempla las brasas en tu vestimenta.',
    'achievements.3.title': 'El Eco Resuena',
    'achievements.3.desc': 'Derrota a Verdugo del Martillo, el primer gran jefe del culto.',
    'achievements.4.title': 'Alas de la Diosa',
    'achievements.4.desc': 'Obtén la Habilidad de Salto Mejorado (Doble Salto) para navegar las alturas con ligereza.',
    'achievements.5.title': 'La Forja del Dolor',
    'achievements.5.desc': 'Ayuda a Thyros, el Forjador de Ecos, y libera el dolor de su yunque.',
    'achievements.6.title': 'Guardián de Espejos',
    'achievements.6.desc': 'Derrota al Centinela de Cristal o a Thalgron, Guardián de Escorias.',
    'achievements.7.title': 'Visión Oculta',
    'achievements.7.desc': 'Utiliza la Lente de Sangre para ver al menos un muro falso y acceder a un pasaje oculto.',
    'achievements.8.title': 'Un Canto en la Sombra',
    'achievements.8.desc': 'Derrota a Kael, el Peregrino Oscuro, en su último duelo.',
    'achievements.9.title': 'Lágrimas y Cenizas',
    'achievements.9.desc': 'Alcanza el desenlace donde el ciclo termina en la tristeza de Ignira.',
    'achievements.10.title': 'El Amanecer del Equilibrio',
    'achievements.10.desc': 'Quiebra la Campana del Eco sin sacrificarte, rescatando a todos los aliados y reuniendo las reliquias.',

    'items.1.title': 'Corazón de Ceniza',
    'items.1.desc': 'Aumenta ligeramente la vida máxima, pero al recibir daño deja un rastro de fuego que hiere a los enemigos cercanos.',
    'items.2.title': 'Oración Rota',
    'items.2.desc': 'Reduce el tiempo de recuperación al morir, permitiendo reintentos más rápidos.',
    'items.3.title': 'Fragmento de Brasa Antigua',
    'items.3.desc': 'Incrementa el daño de ataques cargados, pero consume más energía al usarlos.',
    'items.4.title': 'Broche Carmesí',
    'items.4.desc': 'Aumenta la velocidad de movimiento cuando la salud está baja.',
    'items.5.title': 'Susurro de los Retratos',
    'items.5.desc': 'Mejora el alcance de los ataques mágicos, pero reduce la fuerza de los ataques físicos.',
    'items.6.title': 'Campana Hueca',
    'items.6.desc': 'Llama a espíritus de humo que atacan al azar cuando usas tu habilidad especial.',
    'items.7.title': 'Lente de Sangre',
    'items.7.desc': 'Permite ver muros falsos y pasajes ocultos (fundamental para la exploración y el género Metroidvania).',

    'gameplay.data.genre.title': 'Género y Experiencia',
    'gameplay.data.genre.desc': 'Bell Of Ashes es un <strong>Metroidvania de acción y aventura</strong> con una atmósfera de fantasía oscura. El juego se enfoca en la exploración no lineal de un vasto mundo en 2D, el combate desafiante contra enemigos corruptos y la adquisición progresiva de habilidades esenciales para desbloquear nuevas zonas y profundizar en la rica narrativa.',
    'gameplay.data.rules.title': 'Reglas del Juego',
    'gameplay.data.rules.h1': 'Reglas de Juego: Mecánicas Fundamentales de <em>Bell Of Ashes</em>',
    'gameplay.data.rules.h2': '1. El Género: Metroidvania de Fantasía Oscura',
    'gameplay.data.rules.p1': '<strong>Bell Of Ashes</strong> es un juego de plataformas 2D con un fuerte enfoque en el género <strong>Metroidvania</strong>. Esto significa que la progresión del juego se basa en:',
    'gameplay.data.rules.l1': '<strong>Exploración No Lineal:</strong> El mundo es un mapa vasto e interconectado dividido en zonas (Superficie e Subterráneo) que ocultan múltiples rutas y pasajes secretos.',
    'gameplay.data.rules.l2': '<strong>Progresión por Habilidad:</strong> Ciertas áreas y caminos están inicialmente bloqueados. Solo serán accesibles después de que la protagonista, Solenne, adquiera una <strong>Habilidad</strong> o un <strong>Ítem clave</strong> específico (como el Doble Salto o la Habilidad de Romper Obstáculos).',
    'gameplay.data.rules.h3': '2. Combate y Evolución de Solenne',
    'gameplay.data.rules.p2': 'El combate es desafiante y se basa en el dominio de las habilidades de Solenne, que combinan fuerza física y magia:',
    'gameplay.data.rules.l3': '<strong>Armamento:</strong> Solenne utiliza su <strong>Espada de Cenizas</strong> como arma principal, la cual puede ser mejorada. También cuenta con el <strong>Rayo Arcano</strong> para ataques mágicos a distancia, rápidos y precisos.',
    'gameplay.data.rules.l4': '<strong>Evolución Visual:</strong> La protagonista obtiene nuevas habilidades, como el doble salto, que se manifiestan con cambios en su vestuario (por ejemplo, una bufanda con forma de alas).',
    'gameplay.data.rules.l5': '<strong>Mecánica de Daño Única:</strong> Al obtener el poder <strong>"Corazón de Ceniza"</strong>, no solo aumenta su vida, sino que al recibir daño, Solenne deja un rastro de fuego que hiere a los enemigos cercanos, incentivando una gestión arriesgada del combate.',
    'gameplay.data.rules.h4': '3. Exploración y Secretos del Mundo',
    'gameplay.data.rules.p3': 'La habilidad de encontrar secretos es vital para la supervivencia y el final del juego:',
    'gameplay.data.rules.l6': '<strong>Objetos de Progreso:</strong> Los objetos alteran la jugabilidad de manera significativa:',
    'gameplay.data.rules.l6_1': '<strong>Lente de Sangre:</strong> Es el ítem clave para la exploración, ya que permite al jugador <strong>ver muros falsos y pasajes ocultos</strong>, esenciales para descubrir el 100% del mapa.',
    'gameplay.data.rules.l6_2': 'Otros objetos (como el <strong>Broche Carmesí</strong> o <strong>Susurro de los Retratos</strong>) alteran la velocidad, el daño o la defensa según la situación de combate.',
    'gameplay.data.rules.l7': '<strong>Puntos Estratégicos:</strong> El mundo cuenta con <strong>Puntos de Guardado</strong> (altares o balizas de luz) distribuidos de forma estratégica, permitiendo guardar el progreso y, en algunos casos, utilizar el <strong>Viaje Rápido</strong> entre zonas.',
    'gameplay.data.rules.h5': '4. El Ciclo de Muerte y Consecuencia',
    'gameplay.data.rules.p4': 'Incluso la derrota es una mecánica.',
    'gameplay.data.rules.l8': '<strong>Reintentos Rápidos:</strong> El objeto <strong>"Oración Rota"</strong> reduce el tiempo de recuperación al morir, lo que se traduce en <strong>reintentos más rápidos</strong> para volver al desafío, manteniendo el flujo del juego a pesar de la dificultad.',
    'gameplay.data.rules.h6': '5. La Regla Final: Los Tres Destinos',
    'gameplay.data.rules.p5': 'El final del juego se define por las decisiones y la dedicación del jugador a la exploración:',
    'gameplay.data.rules.l9': '<strong>Finales Múltiples:</strong> La historia culmina con tres posibles desenlaces, dependiendo de si Solenne (Ignira) logra romper la <strong>Campana del Eco</strong> y si ha conseguido rescatar a todos los aliados y reunido las reliquias en su travesía.',
    'gameplay.data.rules.l10': '<strong>Final Verdadero:</strong> El jugador debe enfocarse en la exploración completa y en el rescate de los "salvables" para desbloquear el mejor final, donde el ciclo es restaurado sin el sacrificio de la diosa.',
    'gameplay.data.controls.title': 'Controles de PC',
    'gameplay.data.controls.desc': 'Domina los controles de Solenne para moverte con agilidad y precisión en el campo de batalla.',
    'gameplay.data.controls.action': 'Acción',
    'gameplay.data.controls.key': 'Tecla',
    'gameplay.data.controls.move': 'Movimiento',
    'gameplay.data.controls.jump': 'Salto',
    'gameplay.data.controls.attack': 'Ataque Básico',
    'gameplay.data.controls.magic': 'Ataque Mágico (Rayo Arcano)',
    'gameplay.data.controls.special': 'Habilidad Especial',
    'gameplay.data.controls.interact': 'Interactuar',
    'gameplay.data.controls.map': 'Abrir Mapa',
    'gameplay.data.mechanics.title': 'Mecánicas y Habilidades',
    'gameplay.data.mechanics.desc': 'La protagonista, Solenne, utiliza una combinación de combate físico y magia que evoluciona a medida que avanza en su misión.',
    'gameplay.data.mechanics.h1': 'Combate y Armamento',
    'gameplay.data.mechanics.baseWeapon': 'Arma Base',
    'gameplay.data.mechanics.baseWeaponDesc': '<strong>Espada de Cenizas:</strong> Una espada sencilla forjada con restos del Fuego de la Creación. Se mejora utilizando Lingotes Carmesí para aumentar su poder.',
    'gameplay.data.mechanics.magic': 'Magia Ofensiva',
    'gameplay.data.mechanics.magicDesc': '<strong>Rayo Arcano:</strong> Una habilidad mágica rápida y precisa que concentra pura energía arcana en un proyectil. Es ideal para atravesar defensas menores y atacar a distancia.',
    'gameplay.data.mechanics.advDmg': 'Daño Avanzado',
    'gameplay.data.mechanics.advDmgDesc': 'Los ataques cargados pueden ver su daño incrementado con el objeto <strong>Fragmento de Brasa Antigua</strong>, aunque a costa de consumir más energía.',
    'gameplay.data.mechanics.h2': 'Progresión y Movimiento',
    'gameplay.data.mechanics.p1': 'Las habilidades de Solenne están representadas visualmente por su vestimenta y son clave para la exploración:',
    'gameplay.data.mechanics.l1': '<strong>Corazón de Ceniza (Primer Poder):</strong> Al obtenerlo, la capa de Solenne comienza a arder suavemente, lo que no solo simboliza su primer despertar de poder, sino que también tiene un efecto en combate: al recibir daño, deja un rastro de fuego que hiere a los enemigos cercanos.',
    'gameplay.data.mechanics.l2': '<strong>Doble Salto (Habilidad de Salto Mejorado):</strong> Esencial para la navegación avanzada, esta habilidad se desbloquea con un vestuario especial que incluye una bufanda con forma de alas estilizadas, otorgando agilidad y ligereza. Es indispensable para navegar las alturas y peligros de zonas como la Galería Escarlata.',
    'gameplay.data.mechanics.l3': '<strong>Habilidad de Romper Obstáculos:</strong> Una mejora necesaria para despejar caminos bloqueados por escombros, permitiendo la progresión entre zonas clave como el Atrio de las Brasas hacia el Nivel 2.',
    'gameplay.data.world.title': 'Diseño de Mundo',
    'gameplay.data.world.desc': 'El mundo de Bell Of Ashes es un mapa expansivo y meticulosamente diseñado en 2D, estructurado en dos grandes mitades conectadas por un nexo central.',
    'gameplay.data.world.l1': '<strong>Estructura:</strong> Un mapa interconectado dividido en una zona Superior (Superficie) y una zona Inferior (Subterránea). El punto de conexión entre ambas es un Ascensor central.',
    'gameplay.data.world.l2': '<strong>Atrio de las Brasas:</strong> La zona inicial, ruinas cubiertas de cenizas. Sirve como introducción a los controles. El camino a la siguiente zona está bloqueado por escombros que requieren la Habilidad de Romper Obstáculos.',
    'gameplay.data.world.l3': '<strong>Galería Escarlata:</strong> Minas subterráneas llenas de cristales rojos que arden y peligros ambientales (pozos de lava, maquinaria abandonada). Requiere la Habilidad de Salto Mejorado (Doble Salto) para ser navegada.',
    'gameplay.data.world.l4': '<strong>Puntos de Guardado:</strong> Altares o Balizas de Luz distribuidos estratégicamente. Permiten guardar el progreso y gestionar el estado del jugador. Algunos también ofrecen Viaje Rápido entre ellos una vez activados.',
    'gameplay.data.items.title': 'Objetos Clave',
    'gameplay.data.items.desc': 'Además de las habilidades principales, el juego cuenta con objetos coleccionables que alteran las mecánicas de Solenne:',
    'gameplay.data.items.object': 'Objeto',
    'gameplay.data.items.effect': 'Efecto o Mecánica',
  },
  en: {
    'nav.home': 'Home',
    'nav.history': 'Story',
    'nav.characters': 'Characters',
    'nav.gameplay': 'Gameplay',
    'nav.achievements': 'Achievements & Items',
    'nav.playNow': 'Play Now',
    'nav.downloading': 'Downloading...',

    'footer.motto': 'The fire of creation burns eternally.',
    'footer.explore': 'Explore',
    'footer.follow': 'Follow Us',
    'footer.creators': 'Creators',
    'footer.copyLine': '© 2025 Bell of Ashes. All rights reserved.',

    'lang.selectTitle': 'Select your language',
    'lang.selectDesc': 'Choose the language for the website',
    'lang.es': 'Spanish',
    'lang.en': 'English',


    'home.subtitle': 'THE FIRE OF CREATION',
    'home.description': 'Dive into a world of ashes and embers where gods have fallen. Wield ancestral power and rise from the ruins to forge a new destiny.',
    'home.downloadApp': 'Download Bell of Ashes',
    'common.downloading': 'Downloading...',

    'features.worldTitle': 'Vast World',
    'features.worldDesc': 'Explore devastated realms, forgotten sanctuaries, and ruined cities full of secrets.',
    'features.combatTitle': 'Intense Combat',
    'features.combatDesc': 'Master a fluid combat system that combines brutal attacks, dodges, and elemental powers.',
    'features.customTitle': 'Customization',
    'features.customDesc': 'Forge your legend with a unique arsenal of weapons, armor, and abilities that fit your style.',

    'home.combatSectionTitle': 'Experience the Combat',
    'home.combatSectionDesc': 'Face hordes of enemies and colossal bosses in battles that will test your skill.',
    'home.powerDivineTitle': 'Divine Power',
    'home.powerDivineDesc': 'Command the flames and unleash the power of creation. Each ability is a masterpiece of destruction and rebirth.',
    'home.epicWorldTitle': 'Epic World',
    'home.epicWorldDesc': 'Explore a universe of ancient ruins, scarlet crystals, and forgotten secrets. Every corner tells a story.',

    'installPWA.title': 'Carry the Fire With You',
    'installPWA.desc': 'Install Bell of Ashes on your device for quick access and an immersive experience. Enjoy the app like native, straight from your home screen.',
    'installPWA.installButton': 'Install PWA',
    'installPWA.installing': 'Installing...',
    'installPWA.tipsTitle': "Don't see the button?",
    'installPWA.android': 'On Android: Open Chrome menu (⋮) and choose "Install app".',
    'installPWA.ios': 'On iOS (Safari): Tap the Share icon (↑) and choose "Add to Home Screen".',
    'installPWA.qrDesc': 'Scan this QR code to download the Bell of Ashes Community APK. It keeps you connected with the creators and the game community.',
    'installPWA.downloadApk': 'Download APK',
    'installPWA.guideTitle': 'Detailed Installation Guide',
    'installPWA.pwaTitle': '1. Install the PWA (Progressive Web App)',
    'installPWA.pwaDesc': 'The PWA gives you a native app experience from your browser.',
    'installPWA.pwaReqTitle': 'Requirements:',
    'installPWA.pwaReq1': 'Modern browser (Chrome, Edge, Safari).',
    'installPWA.pwaReq2': 'Internet connection.',
    'installPWA.pwaStepsTitle': 'Steps:',
    'installPWA.pwaStep1': 'Visit the "Bell of Ashes" website.',
    'installPWA.pwaStep2': 'Look for the "Install" or "Add to Home Screen" prompt or button.',
    'installPWA.pwaStep2.1': 'Chrome (Android): Menu (⋮) > "Install app".',
    'installPWA.pwaStep2.2': 'Safari (iOS): Share (↑) > "Add to Home Screen".',
    'installPWA.pwaStep3': 'Confirm the installation.',
    'installPWA.pwaStep4': 'Done! Access it from your home screen.',
    'installPWA.apkTitle': '2. Install the APK (Android)',
    'installPWA.apkDesc': 'For a native Android experience, you can install the APK file.',
    'installPWA.apkReqTitle': 'Requirements:',
    'installPWA.apkReq1': 'Android device.',
    'installPWA.apkReq2': 'Enable "Unknown sources" in security settings.',
    'installPWA.apkStepsTitle': 'Steps:',
    'installPWA.apkStep1': 'Download the APK using the button or QR code above.',
    'installPWA.apkStep2': 'If prompted, allow installation from "Unknown sources".',
    'installPWA.apkStep3': 'Open the downloaded .apk file.',
    'installPWA.apkStep4': 'Follow the instructions to install.',
    'installPWA.apkStep5': 'Find "Bell of Ashes" in your apps.',

    'story.title': 'Story of Bell of Ashes',
    'story.subtitle': 'An epic tale of fallen gods, forgotten prophecies, and the power of eternal fire',
    'story.myth.title': 'The Founding Myth',
    'story.myth.p1': 'In the beginning, from the Fire of Creation, the twin gods were born: Ignira (Goddess of Creation), forger of life, mountains, rivers, and skies; and Ozyr (God of Destruction), tasked with closing the cycle of things, bringing back calm and the opportunity for a second creation. Both gods wove destiny in perfect balance and deep love, their encounters being the origin of auroras and new constellations.',
    'story.fall.title': 'The Fall of Balance',
    'story.fall.p1': 'The balance was broken by the Echo Bearers, a cult fearful that the cycle of life and death would turn without end. They captured Ozyr and chained him to the Bell of Echo, a forbidden artifact born from the void. The bell\'s sound twisted the world\'s roots, extinguishing hope and weakening Ignira, whose creative fire turned to embers. In Ignira\'s lament, a prophecy echoed in the caverns of Noctaria, heralding the arrival of an "ash traveler" who would break the yoke or extinguish the world with her fire.',
    'story.journey.title': 'Solenne\'s Journey',
    'story.journey.p1': 'Solenne appears as the "ash traveler" of the prophecy. Along her path through desolate lands, she manages to find and rescue several key allies and gather fragments of humanity, which bring life back to the Lighthouse Sanctuary.',
    'story.journey.allies.title': 'Main Allies:',
    'story.journey.allies.l1': 'Arieth, the Sanctuary Guardian: A silent guide and protector.',
    'story.journey.allies.l2': 'Velric, the Relic Collector: A merchant of forgotten items with knowledge of arcane secrets.',
    'story.journey.allies.l3': 'Mira, the Wounded Traveler: A reflection of the echo\'s corruption, serving as a warning.',
    'story.journey.allies.l4': 'Thyros, the Echo Forger: A chained blacksmith with a promise of redemption.',
    'story.journey.allies.l5': 'Selianne, the Voice of the Lighthouse: A spirit imprisoned in a broken bell.',
    'story.journey.enemies.title': 'Key Enemies:',
    'story.journey.enemies.l1': 'Echo Bearers: Specters seeking eternal silence.',
    'story.journey.enemies.l2': 'Kael, the Dark Pilgrim: A young man consumed by the obsession to seize Ozyr\'s power.',
    'story.journey.enemies.l3': 'Executioner of the Hammer: The first boss the player faces.',
    'story.climax.title': 'The Climax and the Truth',
    'story.climax.p1': 'The journey culminates in the Heart of the Echo, where Solenne finds Ozyr chained and turned into a puppet of the cult. During the battle, Solenne\'s sword bursts into light, and her mortal body shatters, revealing her true identity: Solenne was always Ignira, the goddess of Creation, who had descended in mortal form to save her beloved. The final confrontation is not to destroy Ozyr, but to free the world by breaking the bell that enslaves him.',
    'story.endings.title': 'Possible Endings',
    'story.endings.p1': 'The fate of the world depends on the player\'s actions, leading to three endings narrated in the old songs:',
    'story.endings.l1.title': 'Partial Sacrifice:',
    'story.endings.l1.desc': 'If Ignira manages to break the bell, Ozyr is freed and they are reunited. However, the goddess is left weakened and doomed to slowly fade away.',
    'story.endings.l2.title': 'The Final Ash:',
    'story.endings.l2.desc': 'If Ignira fails to break the bell, she is forced to kill Ozyr, and the cycle ends in tears and ashes, consuming the world.',
    'story.endings.l3.title': 'New Dawn (True Ending):',
    'story.endings.l3.desc': 'If the player has saved all allies and gathered the relics, Ignira manages to break the bell without sacrificing herself. Together with Ozyr, they ignite a new dawn where the echo becomes a song of hope, restoring the eternal balance.',

    'characters.title': 'Protagonists & Allies',
    'characters.subtitle': 'Meet the heroes and legends who will forge the destiny of a world reborn from ashes.',
    'characters.modal.history': 'History and Role',

    'gameplay.title': 'Game Guide: Bell of Ashes',
    'gameplay.subtitle': 'Master the mechanics and secrets to forge your destiny in a world of ashes.',

    'achievements.title': 'Achievements & Items',
    'achievements.subtitle': 'Track your progress, collect legendary artifacts, and prove your mastery on the battlefield.',
    'achievements.filter.achievements': 'Achievements',
    'achievements.filter.items': 'Items',
    'achievements.filter.all': 'All',
    'achievements.filter.completed': 'Completed',
    'achievements.filter.pending': 'Pending',

    'data.solenne.title': 'The Fire Bearer',
    'data.solenne.desc': 'An enigmatic warrior with hair of fire, destined to wield a legendary sword and unravel the secrets of an ancient prophecy.',
    'data.solenne.long': 'A warrior with hair of fire and golden eyes, wielder of a sword, whose destiny was tied to a prophecy. It is discovered that she is Ignira, the reincarnated goddess of fire and creation. Her power burns with the intensity of a thousand suns, capable of both destroying and creating.',
    'data.axelin.title': 'The Ash Traveler',
    'data.axelin.desc': 'A tough-looking biker who roams the desolate lands. He asks for memories as payment, and his loyalty is unwavering.',
    'data.axelin.long': 'A tough-looking biker with a leather jacket and a serious gaze, but who always smiles tenderly. He is the protagonist\'s means of transport and asks for memories instead of currency. His loyalty is unwavering, and his knowledge of forgotten paths is invaluable.',
    'data.arieth.title': 'The Sanctuary Guardian',
    'data.arieth.desc': 'An ethereal and silent guide. Her presence, manifested as a golden light, protects ancient secrets and guides those chosen by fate.',
    'data.arieth.long': 'Solenne\'s guide and protective shadow, a voice that did not speak but led. Her presence is ethereal and mysterious, manifesting as a silhouette of golden light in times of greatest need. She protects ancient secrets and guides those chosen by fate.',

    'achievements.1.title': 'Pilgrim\'s Start',
    'achievements.1.desc': 'You reached the Atrium of Embers, taking the first step on your destiny.',
    'achievements.2.title': 'Fire in the Cloak',
    'achievements.2.desc': 'Unlock the power of the "Heart of Ash" and see the embers on your attire.',
    'achievements.3.title': 'The Echo Resonates',
    'achievements.3.desc': 'Defeat the Hammer Executioner, the first major boss of the cult.',
    'achievements.4.title': 'Goddess\'s Wings',
    'achievements.4.desc': 'Obtain the Enhanced Jump Ability (Double Jump) to navigate the heights with ease.',
    'achievements.5.title': 'The Forge of Pain',
    'achievements.5.desc': 'Help Thyros, the Echo Forger, and release the pain from his anvil.',
    'achievements.6.title': 'Guardian of Mirrors',
    'achievements.6.desc': 'Defeat the Crystal Sentinel or Thalgron, Guardian of Dross.',
    'achievements.7.title': 'Hidden Vision',
    'achievements.7.desc': 'Use the Blood Lens to see at least one false wall and access a hidden passage.',
    'achievements.8.title': 'A Song in the Shadows',
    'achievements.8.desc': 'Defeat Kael, the Dark Pilgrim, in his final duel.',
    'achievements.9.title': 'Tears and Ashes',
    'achievements.9.desc': 'Reach the ending where the cycle concludes in Ignira\'s sorrow.',
    'achievements.10.title': 'The Dawn of Balance',
    'achievements.10.desc': 'Break the Bell of Echo without sacrificing yourself, rescuing all allies and gathering the relics.',

    'items.1.title': 'Heart of Ash',
    'items.1.desc': 'Slightly increases maximum health, but leaves a trail of fire that hurts nearby enemies upon taking damage.',
    'items.2.title': 'Broken Prayer',
    'items.2.desc': 'Reduces recovery time upon death, allowing for faster retries.',
    'items.3.title': 'Ancient Ember Fragment',
    'items.3.desc': 'Increases the damage of charged attacks, but consumes more energy.',
    'items.4.title': 'Crimson Brooch',
    'items.4.desc': 'Increases movement speed when health is low.',
    'items.5.title': 'Whisper of the Portraits',
    'items.5.desc': 'Improves the range of magic attacks, but reduces the strength of physical attacks.',
    'items.6.title': 'Hollow Bell',
    'items.6.desc': 'Summons smoke spirits that attack randomly when you use your special ability.',
    'items.7.title': 'Blood Lens',
    'items.7.desc': 'Allows you to see false walls and hidden passages (fundamental for exploration and the Metroidvania genre).',

    'gameplay.data.genre.title': 'Genre and Experience',
    'gameplay.data.genre.desc': 'Bell Of Ashes is an <strong>action-adventure Metroidvania</strong> with a dark fantasy atmosphere. The game focuses on non-linear exploration of a vast 2D world, challenging combat against corrupted enemies, and the progressive acquisition of essential abilities to unlock new areas and delve deeper into the rich narrative.',
    'gameplay.data.rules.title': 'Game Rules',
    'gameplay.data.rules.h1': 'Game Rules: Fundamental Mechanics of <em>Bell Of Ashes</em>',
    'gameplay.data.rules.h2': '1. The Genre: Dark Fantasy Metroidvania',
    'gameplay.data.rules.p1': '<strong>Bell Of Ashes</strong> is a 2D platformer with a strong focus on the <strong>Metroidvania</strong> genre. This means that game progression is based on:',
    'gameplay.data.rules.l1': '<strong>Non-Linear Exploration:</strong> The world is a vast, interconnected map divided into zones (Surface and Underground) that hide multiple routes and secret passages.',
    'gameplay.data.rules.l2': '<strong>Ability-Gated Progression:</strong> Certain areas and paths are initially blocked. They will only be accessible after the protagonist, Solenne, acquires a specific <strong>Ability</strong> or <strong>Key Item</strong> (like the Double Jump or the Obstacle-Breaking Ability).',
    'gameplay.data.rules.h3': '2. Combat and Solenne\'s Evolution',
    'gameplay.data.rules.p2': 'Combat is challenging and based on mastering Solenne\'s abilities, which combine physical strength and magic:',
    'gameplay.data.rules.l3': '<strong>Weaponry:</strong> Solenne uses her <strong>Ash Sword</strong> as her main weapon, which can be upgraded. She also has the <strong>Arcane Beam</strong> for fast and precise ranged magical attacks.',
    'gameplay.data.rules.l4': '<strong>Visual Evolution:</strong> The protagonist gains new abilities, like the double jump, which are manifested through changes in her attire (e.g., a scarf shaped like wings).',
    'gameplay.data.rules.l5': '<strong>Unique Damage Mechanic:</strong> Upon obtaining the <strong>"Heart of Ash"</strong> power, not only does her health increase, but when she takes damage, Solenne leaves a trail of fire that hurts nearby enemies, encouraging risky combat management.',
    'gameplay.data.rules.h4': '3. World Exploration and Secrets',
    'gameplay.data.rules.p3': 'The ability to find secrets is vital for survival and the game\'s ending:',
    'gameplay.data.rules.l6': '<strong>Progression Items:</strong> Items significantly alter gameplay:',
    'gameplay.data.rules.l6_1': '<strong>Blood Lens:</strong> This is the key item for exploration, as it allows the player to <strong>see false walls and hidden passages</strong>, essential for discovering 100% of the map.',
    'gameplay.data.rules.l6_2': 'Other items (like the <strong>Crimson Brooch</strong> or <strong>Whisper of the Portraits</strong>) alter speed, damage, or defense depending on the combat situation.',
    'gameplay.data.rules.l7': '<strong>Strategic Points:</strong> The world has strategically placed <strong>Save Points</strong> (altars or beacons of light), allowing progress to be saved and, in some cases, enabling <strong>Fast Travel</strong> between zones.',
    'gameplay.data.rules.h5': '4. The Cycle of Death and Consequence',
    'gameplay.data.rules.p4': 'Even defeat is a mechanic.',
    'gameplay.data.rules.l8': '<strong>Quick Retries:</strong> The <strong>"Broken Prayer"</strong> item reduces recovery time upon death, resulting in <strong>faster retries</strong> to get back to the challenge, maintaining the game\'s flow despite the difficulty.',
    'gameplay.data.rules.h6': '5. The Final Rule: The Three Fates',
    'gameplay.data.rules.p5': 'The game\'s ending is defined by the player\'s decisions and dedication to exploration:',
    'gameplay.data.rules.l9': '<strong>Multiple Endings:</strong> The story culminates in three possible outcomes, depending on whether Solenne (Ignira) manages to break the <strong>Bell of Echo</strong> and whether she has rescued all allies and gathered the relics on her journey.',
    'gameplay.data.rules.l10': '<strong>True Ending:</strong> The player must focus on complete exploration and rescuing the "savables" to unlock the best ending, where the cycle is restored without the goddess\'s sacrifice.',
    'gameplay.data.controls.title': 'PC Controls',
    'gameplay.data.controls.desc': 'Master Solenne\'s controls to move with agility and precision on the battlefield.',
    'gameplay.data.controls.action': 'Action',
    'gameplay.data.controls.key': 'Key',
    'gameplay.data.controls.move': 'Movement',
    'gameplay.data.controls.jump': 'Jump',
    'gameplay.data.controls.attack': 'Basic Attack',
    'gameplay.data.controls.magic': 'Magic Attack (Arcane Beam)',
    'gameplay.data.controls.special': 'Special Ability',
    'gameplay.data.controls.interact': 'Interact',
    'gameplay.data.controls.map': 'Open Map',
    'gameplay.data.mechanics.title': 'Mechanics & Abilities',
    'gameplay.data.mechanics.desc': 'The protagonist, Solenne, uses a combination of physical combat and magic that evolves as she progresses on her mission.',
    'gameplay.data.mechanics.h1': 'Combat and Weaponry',
    'gameplay.data.mechanics.baseWeapon': 'Base Weapon',
    'gameplay.data.mechanics.baseWeaponDesc': '<strong>Ash Sword:</strong> A simple sword forged from the remnants of the Fire of Creation. It can be upgraded using Crimson Ingots to increase its power.',
    'gameplay.data.mechanics.magic': 'Offensive Magic',
    'gameplay.data.mechanics.magicDesc': '<strong>Arcane Beam:</strong> A fast and precise magical ability that concentrates pure arcane energy into a projectile. It is ideal for piercing minor defenses and attacking from a distance.',
    'gameplay.data.mechanics.advDmg': 'Advanced Damage',
    'gameplay.data.mechanics.advDmgDesc': 'Charged attacks can have their damage increased with the <strong>Ancient Ember Fragment</strong> item, though at the cost of consuming more energy.',
    'gameplay.data.mechanics.h2': 'Progression and Movement',
    'gameplay.data.mechanics.p1': 'Solenne\'s abilities are visually represented by her attire and are key to exploration:',
    'gameplay.data.mechanics.l1': '<strong>Heart of Ash (First Power):</strong> Upon obtaining it, Solenne\'s cloak begins to smolder gently, which not only symbolizes her first awakening of power but also has a combat effect: when she takes damage, she leaves a trail of fire that hurts nearby enemies.',
    'gameplay.data.mechanics.l2': '<strong>Double Jump (Enhanced Jump Ability):</strong> Essential for advanced navigation, this ability is unlocked with a special outfit that includes a scarf shaped like stylized wings, granting agility and lightness. It is indispensable for navigating the heights and dangers of areas like the Scarlet Gallery.',
    'gameplay.data.mechanics.l3': '<strong>Obstacle-Breaking Ability:</strong> A necessary upgrade to clear paths blocked by debris, allowing progression between key zones like the Atrium of Embers to Level 2.',
    'gameplay.data.world.title': 'World Design',
    'gameplay.data.world.desc': 'The world of Bell Of Ashes is an expansive and meticulously designed 2D map, structured in two large halves connected by a central nexus.',
    'gameplay.data.world.l1': '<strong>Structure:</strong> An interconnected map divided into an Upper zone (Surface) and a Lower zone (Underground). The connection point between them is a central Elevator.',
    'gameplay.data.world.l2': '<strong>Atrium of Embers:</strong> The starting area, ruins covered in ash. It serves as an introduction to the controls. The path to the next area is blocked by debris that requires the Obstacle-Breaking Ability.',
    'gameplay.data.world.l3': '<strong>Scarlet Gallery:</strong> Underground mines filled with burning red crystals and environmental hazards (lava pits, abandoned machinery). It requires the Enhanced Jump Ability (Double Jump) to be navigated.',
    'gameplay.data.world.l4': '<strong>Save Points:</strong> Strategically distributed altars or Beacons of Light. They allow saving progress and managing the player\'s state. Some also offer Fast Travel between them once activated.',
    'gameplay.data.items.title': 'Key Items',
    'gameplay.data.items.desc': 'In addition to the main abilities, the game features collectible items that alter Solenne\'s mechanics:',
    'gameplay.data.items.object': 'Item',
    'gameplay.data.items.effect': 'Effect or Mechanic',
  },
};

const LanguageContext = createContext({ lang: 'es', setLang: () => {}, t: (k) => k });

export function LanguageProvider({ children }) {
  const [lang, setLang] = useState(() => localStorage.getItem('lang') || 'es');
  const [isModalOpen, setIsModalOpen] = useState(!localStorage.getItem('lang'));

  useEffect(() => {
    if (lang) {
      localStorage.setItem('lang', lang);
      document.documentElement.lang = lang;
    }
  }, [lang]);

  const t = useMemo(
    () => (key) => (translations[lang] && translations[lang][key]) || key,
    [lang]
  );

  const handleSelectLanguage = (selectedLang) => {
    setLang(selectedLang);
    setIsModalOpen(false);
  };

  const value = useMemo(() => ({ lang: lang || 'es', setLang, t }), [lang, t]);

  return <LanguageContext.Provider value={value}>
    <LanguageModal isOpen={isModalOpen} onSelectLanguage={handleSelectLanguage} />
    {!isModalOpen && children}
  </LanguageContext.Provider>;
}

export function useI18n() {
  return useContext(LanguageContext);
}